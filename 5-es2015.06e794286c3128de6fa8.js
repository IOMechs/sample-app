(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+U6T":function(l,t,n){"use strict";n.r(t);var e=n("8Y7J");class i{}var a=n("pMnS"),r=n("iInd");class o{constructor(){}ngOnInit(){}}var c=e.nb({encapsulation:0,styles:[[""]],data:{}});function s(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),e.pb(3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.ob(4,212992,null,0,r.o,[r.b,e.M,e.j,[8,null],e.h],null,null)],function(l,t){l(t,4,0)},null)}function u(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"app-landing-page",[],null,null,null,s,c)),e.ob(1,114688,null,0,o,[],null,null)],function(l,t){l(t,1,0)},null)}var d=e.lb("app-landing-page",o,u,{},{},[]),p=n("VLCt");class _{constructor(){this.defaultSrc="assets/placeholder.jpg",this.src="https://images.unsplash.com/photo-1443890923422-7819ed4101c0?fm=jpg"}ngOnInit(){}}var h=e.nb({encapsulation:0,styles:[["[_nghost-%COMP%]{width:100%;display:block}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;opacity:.5}"]],data:{}});function b(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"img",[],null,null,null,null,null)),e.ob(1,1720320,null,0,p.a,[e.k,e.x,e.z,[2,"options"]],{lazyImage:[0,"lazyImage"],defaultImage:[1,"defaultImage"]},null)],function(l,t){var n=t.component;l(t,1,0,n.src,n.defaultSrc)},null)}var m=n("SVse");class g{constructor(l){this.el=l,this.scrollPosition=new e.m}onScroll(l){try{const l=(document.documentElement.scrollTop||document.body.scrollTop)+document.documentElement.offsetHeight,n=document.documentElement.scrollHeight;Math.ceil(l)>=n&&this.scrollPosition.emit("bottom")}catch(t){}}}class f{constructor(l,t){this.page=l,this.authService=t}ngOnInit(){this.componentAlive=!0,this.page.init("articles","created",{reverse:!0,prepend:!1,limit:5})}scrollHandler(l){"bottom"===l&&this.page.more()}delete(l,t){t&&(t.preventDefault(),t.stopImmediatePropagation()),confirm(`Are you sure you want to delete "${l.title}" ?`)}edit(l,t){t&&(t.preventDefault(),t.stopImmediatePropagation()),alert(`You're editing "${l.title}"`)}ngOnDestroy(){this.page.resetPagination(),this.componentAlive=!1}}var y=n("7RJT"),v=n("vrE+"),x=n("IzEk"),w=n("lJxs"),O=n("Xr7G");let P=(()=>{class l{constructor(l){this.afs=l,this.$done=new y.BehaviorSubject(!1),this.$loading=new y.BehaviorSubject(!1),this.$data=new y.BehaviorSubject([]),this.$dataSnapShot=[],this.data=this.$done.asObservable(),this.done=this.$done.asObservable(),this.loading=this.$loading.asObservable()}init(l,t,n,e){this.query=Object.assign({path:l,field:t,limit:5,reverse:!1,prepend:!1},n);const i=this.afs.collection(this.query.path,l=>e?l.orderBy(this.query.field,this.query.reverse?"desc":"asc").limit(this.query.limit).where(e.property,e.condition,e.value):l.orderBy(this.query.field,this.query.reverse?"desc":"asc").limit(this.query.limit));this.mapAndUpdate(i),this.data=this.$data.asObservable().pipe(Object(v.scan)((l,t)=>this.query.prepend?t.concat(l):l.concat(t)))}more(l){const t=this.getCursor(),n=this.afs.collection(this.query.path,n=>l?n.orderBy(this.query.field,this.query.reverse?"desc":"asc").limit(this.query.limit).where(l.property,l.condition,l.value).startAfter(t):n.orderBy(this.query.field,this.query.reverse?"desc":"asc").limit(this.query.limit).startAfter(t));this.mapAndUpdate(n)}getCursor(){const l=this.$dataSnapShot;return l.length?this.query.prepend?l[0]:l[l.length-1]:null}mapAndUpdate(l){if(!this.$done.value&&!this.$loading.value)return this.$loading.next(!0),l.snapshotChanges().pipe(Object(x.a)(1),Object(w.a)(l=>{this.$dataSnapShot=l.map(l=>l.payload.doc),this.$dataSnapShot=this.query.prepend?this.$dataSnapShot.reverse():this.$dataSnapShot})).subscribe(),l.valueChanges().pipe(Object(x.a)(1)).subscribe(l=>{l.length||this.$done.next(!0),(l=this.query.prepend?l.reverse():l).map((l,t)=>l.id=this.$dataSnapShot[t].id),this.$data.next(l),this.$loading.next(!1)})}resetPagination(){this.$loading.next(!1),this.$done.next(!1),this.$data.next([]),this.$dataSnapShot=[]}}return l.ngInjectableDef=e.Kb({factory:function(){return new l(e.Lb(O.a))},token:l,providedIn:"root"}),l})();var S=n("IYfF"),$=e.nb({encapsulation:0,styles:[[".article-card-list[_ngcontent-%COMP%]{width:100%}.article-card-list__article-card[_ngcontent-%COMP%]{overflow:hidden;position:relative;background-size:contain;background-position:-40% 80%;background-repeat:no-repeat;width:75%;max-width:800px;height:300px;display:block;margin:8vh auto;color:#fff;border-radius:8px;cursor:pointer;box-shadow:0 8px 12px 0 rgba(0,0,0,.8)}.article-card-list__article-card__image[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;z-index:-1}.article-card-list__article-card__color-overlay[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:8px;background:linear-gradient(to right,rgba(42,159,255,.2) 0,#212120 60%,#212120 100%);background-blend-mode:multiply}.article-card-list__article-card__color-overlay__article-action[_ngcontent-%COMP%]{padding:1em;display:inline-block}.article-card-list__article-card__color-overlay__article-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content;min-width:80px}.article-card-list__article-card__color-overlay__article-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:16px}.article-card-list__article-card__color-overlay__article-action__delete-icon[_ngcontent-%COMP%], .article-card-list__article-card__color-overlay__article-action__edit-icon[_ngcontent-%COMP%]{width:80px;font-size:1.2em;color:#fff}.article-card-list__article-card__color-overlay__article-content[_ngcontent-%COMP%]{width:40%;display:block;position:relative;float:right;padding-right:1em}.article-card-list__article-card__color-overlay__article-content__article-header[_ngcontent-%COMP%]{margin-bottom:2em}.article-card-list__article-card__color-overlay__article-content__article-header__article-title[_ngcontent-%COMP%]{margin-bottom:.25em;margin-top:.25em;opacity:.75;font-family:Montserrat,helvetica,arial,sans-serif;text-transform:uppercase;letter-spacing:2px;line-height:1;font-weight:400}.article-card-list__article-card__color-overlay__article-content__article-header__article-info[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:2px;font-size:.8em;line-height:1;margin:0;font-weight:700;opacity:.5}.article-card-list__article-card__color-overlay__article-content__article-header__article-author[_ngcontent-%COMP%]{margin-top:.25em;letter-spacing:2px}.article-card-list__article-card__color-overlay__article-content__article-desc[_ngcontent-%COMP%]{font-weight:300;opacity:.84;margin-bottom:2em}.spinner[_ngcontent-%COMP%]{width:5rem;height:5rem;margin-top:2rem}@media (max-width:1000px){.article-card-list__article-card[_ngcontent-%COMP%]{background-position:50% 0;background-size:cover;height:400px}.article-card-list__article-card__color-overlay[_ngcontent-%COMP%]{background:linear-gradient(to bottom,rgba(42,159,255,.2) 0,#212120 60%,#212120 100%)}.article-card-list__article-card__color-overlay__article-content[_ngcontent-%COMP%]{margin-top:4.2em;width:90%}}"]],data:{animation:[{type:7,name:"articlesAnimation",definitions:[{type:1,expr:"* => *",animation:[{type:11,selector:":enter",animation:{type:6,styles:{opacity:0},offset:null},options:{optional:!0}},{type:11,selector:":enter",animation:{type:12,timings:"300ms",animation:[{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"translateY(-50%)",offset:0},offset:null},{type:6,styles:{opacity:.5,transform:"translateY(-10px) scale(1.1)",offset:.3},offset:null},{type:6,styles:{opacity:1,transform:"translateY(0)",offset:1},offset:null}]},timings:".5s ease-in"}]},options:{optional:!0}},{type:11,selector:":leave",animation:{type:12,timings:"300ms",animation:[{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:1,transform:"scale(1.1)",offset:0},offset:null},{type:6,styles:{opacity:.5,transform:"scale(.5)",offset:.3},offset:null},{type:6,styles:{opacity:0,transform:"scale(0)",offset:1},offset:null}]},timings:"500ms ease-out"}]},options:{optional:!0}}],options:null}],options:{}}]}});function M(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,6,"div",[["class","article-card-list__article-card__color-overlay__article-action"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,2,"button",[["class","btn btn-sm btn-danger"]],null,[[null,"click"]],function(l,t,n){var e=!0;return"click"===t&&(e=!1!==l.component.delete(l.parent.context.$implicit,n)&&e),e},null,null)),(l()(),e.pb(2,0,null,null,1,"span",[["class","article-card-list__article-card__color-overlay__article-action__delete-icon"]],null,null,null,null,null)),(l()(),e.Eb(-1,null,[" Delete "])),(l()(),e.pb(4,0,null,null,2,"button",[["class","btn btn-sm btn-dark"]],null,[[null,"click"]],function(l,t,n){var e=!0;return"click"===t&&(e=!1!==l.component.edit(l.parent.context.$implicit,n)&&e),e},null,null)),(l()(),e.pb(5,0,null,null,1,"span",[["class","article-card-list__article-card__color-overlay__article-action__edit-icon"]],null,null,null,null,null)),(l()(),e.Eb(-1,null,[" Edit "]))],null,null)}function C(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,17,"a",[["style","box-shadow:none"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),e.pb(1,0,null,null,16,"div",[["class","article-card-list__article-card"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,1,"app-lazy-image",[["class","article-card-list__article-card__image"]],null,null,null,b,h)),e.ob(3,114688,null,0,_,[],{src:[0,"src"]},null),(l()(),e.pb(4,0,null,null,13,"div",[["class","article-card-list__article-card__color-overlay"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,2,null,M)),e.ob(6,16384,null,0,m.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),e.Ab(131072,m.b,[e.h]),(l()(),e.pb(8,0,null,null,9,"div",[["class","article-card-list__article-card__color-overlay__article-content"]],null,null,null,null,null)),(l()(),e.pb(9,0,null,null,6,"div",[["class","article-card-list__article-card__color-overlay__article-content__article-header"]],null,null,null,null,null)),(l()(),e.pb(10,0,null,null,1,"h4",[["class","article-card-list__article-card__color-overlay__article-content__article-header__article-title"]],null,null,null,null,null)),(l()(),e.Eb(11,null,["",""])),(l()(),e.pb(12,0,null,null,1,"h5",[["class","article-card-list__article-card__color-overlay__article-content__article-header__article-author"]],null,null,null,null,null)),(l()(),e.Eb(13,null,["",""])),(l()(),e.pb(14,0,null,null,1,"h6",[["class","article-card-list__article-card__color-overlay__article-content__article-header__article-info"]],null,null,null,null,null)),(l()(),e.Eb(15,null,["",""])),(l()(),e.pb(16,0,null,null,1,"p",[["class","article-card-list__article-card__color-overlay__article-content__article-desc"]],null,null,null,null,null)),(l()(),e.Eb(17,null,["",""]))],function(l,t){var n=t.component;l(t,3,0,t.context.$implicit.imgUrl),l(t,6,0,e.Fb(t,6,0,e.zb(t,7).transform(n.authService.isAdmin)))},function(l,t){l(t,0,0,t.context.$implicit.articleUrl),l(t,11,0,t.context.$implicit.title),l(t,13,0,t.context.$implicit.author),l(t,15,0,t.context.$implicit.info),l(t,17,0,t.context.$implicit.description)})}function k(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,3,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,2,"div",[["class","spinner-border spinner"],["role","status"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),e.Eb(-1,null,["Loading..."]))],null,null)}function q(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,5,"div",[["appScrollable",""],["class","article-card-list"]],[[24,"@articlesAnimation",0]],[[null,"scrollPosition"],["window","scroll"]],function(l,t,n){var i=!0,a=l.component;return"window:scroll"===t&&(i=!1!==e.zb(l,1).onScroll(n)&&i),"scrollPosition"===t&&(i=!1!==a.scrollHandler(n)&&i),i},null,null)),e.ob(1,16384,null,0,g,[e.k],null,{scrollPosition:"scrollPosition"}),e.Ab(131072,m.b,[e.h]),(l()(),e.eb(16777216,null,null,2,null,C)),e.ob(4,278528,null,0,m.j,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),e.Ab(131072,m.b,[e.h]),(l()(),e.eb(16777216,null,null,2,null,k)),e.ob(7,16384,null,0,m.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),e.Ab(131072,m.b,[e.h])],function(l,t){var n=t.component;l(t,4,0,e.Fb(t,4,0,e.zb(t,5).transform(n.page.data))),l(t,7,0,e.Fb(t,7,0,e.zb(t,8).transform(n.page.loading)))},function(l,t){var n=t.component;l(t,0,0,e.Fb(t,0,0,e.zb(t,2).transform(n.page.data)).length)})}function j(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"app-article-list",[],null,null,null,q,$)),e.ob(1,245760,null,0,f,[P,S.a],null,null)],function(l,t){l(t,1,0)},null)}var I=e.lb("app-article-list",f,j,{},{},[]),z=n("s7LF"),A=n("Cmua");class E{}var F=n("PCNd");n.d(t,"LandingPageModuleNgFactory",function(){return G});var G=e.mb(i,[],function(l){return e.xb([e.yb(512,e.j,e.X,[[8,[a.a,d,I]],[3,e.j],e.v]),e.yb(4608,m.m,m.l,[e.s,[2,m.u]]),e.yb(4608,z.e,z.e,[]),e.yb(4608,z.p,z.p,[]),e.yb(4608,A.a,A.a,[r.l]),e.yb(1073742336,m.c,m.c,[]),e.yb(1073742336,r.n,r.n,[[2,r.s],[2,r.l]]),e.yb(1073742336,E,E,[]),e.yb(1073742336,z.o,z.o,[]),e.yb(1073742336,z.m,z.m,[]),e.yb(1073742336,p.b,p.b,[]),e.yb(1073742336,F.a,F.a,[]),e.yb(1073742336,i,i,[]),e.yb(1024,r.j,function(){return[[{path:"",component:o,children:[{path:"",pathMatch:"full",redirectTo:"articles"},{path:"articles",component:f}]}]]},[])])})},"vrE+":function(l,t,n){var e=n("mrSG").__extends,i=n("FWf1");t.scan=function(l,t){var n=!1;return arguments.length>=2&&(n=!0),function(e){return e.lift(new a(l,t,n))}};var a=function(){function l(l,t,n){void 0===n&&(n=!1),this.accumulator=l,this.seed=t,this.hasSeed=n}return l.prototype.call=function(l,t){return t.subscribe(new r(l,this.accumulator,this.seed,this.hasSeed))},l}(),r=function(l){function t(t,n,e,i){var a=l.call(this,t)||this;return a.accumulator=n,a._seed=e,a.hasSeed=i,a.index=0,a}return e(t,l),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(l){this.hasSeed=!0,this._seed=l},enumerable:!0,configurable:!0}),t.prototype._next=function(l){if(this.hasSeed)return this._tryNext(l);this.seed=l,this.destination.next(l)},t.prototype._tryNext=function(l){var t,n=this.index++;try{t=this.accumulator(this.seed,l,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(i.Subscriber)}}]);